# Me2resh Daily Intel Scan - Comprehensive RSS Source Catalogue
# RSS-first approach: Only includes sources with working RSS/Atom feeds
# Last updated: 2025-10-19

email:
  to_address: "${TO_EMAIL_ADDRESS}"
  from_address: "${FROM_EMAIL_ADDRESS}"
  subject_prefix: "Me2resh Daily"

scan_config:
  timezone: "Europe/London"
  scan_time: "05:00"
  lookback_hours: 24  # Freshness window in hours (default: 24 for daily scans, override via Lambda event for testing)
  max_items_per_source: 20  # Limit items per source to control costs
  enable_perplexity_research: true  # Enable Perplexity for additional coverage

  # Diversity & Rebalancing Controls
  max_items_per_category: 5  # Hard cap per category (top_signals, aws_platform_changes, etc.)
  healthcare_combined_cap: 0.4  # Max 40% of total items from healthcare/AI/FHIR combined
  rebalance_on: true  # Enable automatic rebalancing if input is skewed
  primary_sources_first: true  # Prioritize primary sources (AWS official, NVD, CISA, etc.)
  drop_undated_commentary: true  # Drop commentary/opinion pieces without dates

topics:
  # ============================================================================
  # 1. AI IN HEALTHCARE & CLINICAL PATHWAYS
  # ============================================================================
  - name: "AI Healthcare - Clinical Journals"
    category: "ai_healthcare"
    priority: 1
    sources:
      - name: "NEJM AI"
        url: "https://ai.nejm.org/"
        rss_url: "https://ai.nejm.org/feeds/latest.rss"
        type: "rss"

      - name: "npj Digital Medicine"
        url: "https://www.nature.com/npjdigitalmed/"
        rss_url: "https://www.nature.com/npjdigitalmed.rss"
        type: "rss"

      - name: "The Lancet Digital Health"
        url: "https://www.thelancet.com/journals/landig/home"
        rss_url: "https://www.thelancet.com/content/rss"
        type: "rss"

  - name: "AI Platforms & Vendors"
    category: "ai_platform"
    priority: 1
    sources:
      - name: "OpenAI News"
        url: "https://openai.com/news/"
        rss_url: "https://openai.com/news/rss.xml"
        type: "rss"

      - name: "Hugging Face Blog"
        url: "https://huggingface.co/blog"
        rss_url: "https://huggingface.co/blog/feed.xml"
        type: "rss"

      - name: "AWS Machine Learning Blog"
        url: "https://aws.amazon.com/blogs/machine-learning/"
        rss_url: "https://feeds.feedburner.com/AmazonWebServicesBlogMachineLearning"
        type: "rss"

      - name: "TLDR AI Newsletter"
        url: "https://tldr.tech/ai"
        rss_url: "https://tldr.tech/api/rss/ai"
        type: "rss"

  # ============================================================================
  # 2. AWS & SERVERLESS PLATFORM
  # ============================================================================
  - name: "AWS Official Feeds"
    category: "aws_platform"
    priority: 1
    sources:
      - name: "AWS What's New"
        url: "https://aws.amazon.com/new/"
        rss_url: "https://aws.amazon.com/about-aws/whats-new/recent/feed/"
        type: "rss"

      - name: "AWS Security Bulletins"
        url: "https://aws.amazon.com/security/security-bulletins/"
        rss_url: "https://aws.amazon.com/security/security-bulletins/feed/"
        type: "rss"

      - name: "AWS Compute Blog"
        url: "https://aws.amazon.com/blogs/compute/"
        rss_url: "https://aws.amazon.com/blogs/compute/feed/"
        type: "rss"

      - name: "AWS Architecture Blog"
        url: "https://aws.amazon.com/blogs/architecture/"
        rss_url: "https://aws.amazon.com/blogs/architecture/feed/"
        type: "rss"

      - name: "Lambda Release Notes"
        url: "https://docs.aws.amazon.com/lambda/latest/dg/lambda-updates.html"
        rss_url: "https://docs.aws.amazon.com/lambda/latest/dg/lambda-updates.rss"
        type: "rss"

      - name: "CloudFormation Release Notes"
        url: "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/ReleaseHistory.html"
        rss_url: "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/ReleaseHistory.rss"
        type: "rss"

  - name: "Serverless Ecosystem"
    category: "serverless"
    priority: 2
    sources:
      - name: "Serverless Land"
        url: "https://serverlessland.com/"
        rss_url: "https://serverlessland.com/feed.xml"
        type: "rss"

      - name: "Serverless Framework Blog"
        url: "https://www.serverless.com/blog"
        rss_url: "https://www.serverless.com/blog/rss"
        type: "rss"

      - name: "CNCF Blog"
        url: "https://www.cncf.io/blog/"
        rss_url: "https://www.cncf.io/feed/"
        type: "rss"

  # ============================================================================
  # 3. FHIR / HL7 / INTEROPERABILITY
  # ============================================================================
  - name: "FHIR & HL7 Standards"
    category: "fhir_standards"
    priority: 2
    sources:
      - name: "HL7 Blog"
        url: "https://blog.hl7.org/"
        rss_url: "https://blog.hl7.org/rss.xml"
        type: "rss"

      - name: "Hay on FHIR (Community Blog)"
        url: "https://fhirblog.com/"
        rss_url: "https://fhirblog.com/feed/"
        type: "rss"

      - name: "ONC Health IT Buzz"
        url: "https://www.healthit.gov/buzz-blog/"
        rss_url: "https://www.healthit.gov/buzz-blog/feed"
        type: "rss"

  # ============================================================================
  # 4. SECURITY ADVISORIES
  # ============================================================================
  - name: "Security & Vulnerabilities"
    category: "security"
    priority: 1
    sources:
      - name: "CVE Details - Latest CVEs"
        url: "https://www.cvedetails.com/"
        rss_url: "https://www.cvedetails.com/vulnerability-feeds-form.php"
        type: "rss"

      - name: "Tenable CVE Feeds"
        url: "https://www.tenable.com/cve"
        rss_url: "https://www.tenable.com/cve/feeds/newest"
        type: "rss"

      - name: "TLDR InfoSec Newsletter"
        url: "https://tldr.tech/infosec"
        rss_url: "https://tldr.tech/api/rss/infosec"
        type: "rss"

  # ============================================================================
  # 5. STACK RELEASES (GitHub Atom Feeds)
  # ============================================================================
  - name: "Language & Framework Releases"
    category: "releases"
    priority: 2
    sources:
      - name: "NestJS Releases"
        url: "https://github.com/nestjs/nest/releases"
        rss_url: "https://github.com/nestjs/nest/releases.atom"
        type: "rss"

      - name: "TypeScript Releases"
        url: "https://github.com/microsoft/TypeScript/releases"
        rss_url: "https://github.com/microsoft/TypeScript/releases.atom"
        type: "rss"

      - name: "Go Blog"
        url: "https://go.dev/blog/"
        rss_url: "https://go.dev/blog/feed.atom"
        type: "rss"

      - name: "AWS SAM CLI Releases"
        url: "https://github.com/aws/aws-sam-cli/releases"
        rss_url: "https://github.com/aws/aws-sam-cli/releases.atom"
        type: "rss"

      - name: "AWS SAM Model Releases"
        url: "https://github.com/aws/serverless-application-model/releases"
        rss_url: "https://github.com/aws/serverless-application-model/releases.atom"
        type: "rss"

      - name: "PHP Security Advisories"
        url: "https://github.com/php/php-src/security/advisories"
        rss_url: "https://github.com/php/php-src/security/advisories.atom"
        type: "rss"

  # ============================================================================
  # 6. DEVELOPER EXPERIENCE & TRENDS
  # ============================================================================
  - name: "Developer Experience"
    category: "developer_experience"
    priority: 3
    sources:
      - name: "Backstage Spotify Blog"
        url: "https://backstage.spotify.com/discover/blog/"
        rss_url: "https://backstage.spotify.com/discover/blog/rss.xml"
        type: "rss"

      - name: "InfoQ News"
        url: "https://www.infoq.com/news/"
        rss_url: "https://feed.infoq.com/"
        type: "rss"

      - name: "The New Stack"
        url: "https://thenewstack.io/"
        rss_url: "https://thenewstack.io/feed/"
        type: "rss"

      - name: "TLDR Dev Newsletter"
        url: "https://tldr.tech/dev"
        rss_url: "https://tldr.tech/api/rss/dev"
        type: "rss"

      - name: "TLDR DevOps Newsletter"
        url: "https://tldr.tech/devops"
        rss_url: "https://tldr.tech/api/rss/devops"
        type: "rss"

      - name: "TLDR Product Newsletter"
        url: "https://tldr.tech/product"
        rss_url: "https://tldr.tech/api/rss/product"
        type: "rss"

      - name: "TLDR IT Newsletter"
        url: "https://tldr.tech/it"
        rss_url: "https://tldr.tech/api/rss/it"
        type: "rss"

  # ============================================================================
  # 7. INTERNATIONAL REGULATORS (RSS-enabled)
  # ============================================================================
  - name: "Healthcare Regulators"
    category: "regulatory"
    priority: 2
    sources:
      - name: "MHRA Yellow Card News"
        url: "https://yellowcard.mhra.gov.uk/news"
        rss_url: "https://yellowcard.mhra.gov.uk/news/rss"
        type: "rss"

      - name: "EMA RSS Feeds"
        url: "https://www.ema.europa.eu/en/news-events/rss-feeds"
        rss_url: "https://www.ema.europa.eu/en/news-events/rss-feeds"
        type: "rss"

      - name: "IMDRF RSS"
        url: "https://www.imdrf.org/"
        rss_url: "https://www.imdrf.org/rss-feeds"
        type: "rss"

      - name: "HAS (France) RSS"
        url: "https://www.has-sante.fr/"
        rss_url: "https://www.has-sante.fr/jcms/c_1771214/fr/nos-flux-d-information-rss"
        type: "rss"

      - name: "ANSM (France) RSS"
        url: "https://ansm.sante.fr/"
        rss_url: "https://ansm.sante.fr/page/flux-rss"
        type: "rss"

      - name: "CMS RSS Hub"
        url: "https://www.cms.gov/"
        rss_url: "https://www.cms.gov/about-cms/web-policies-important-links/rss-feeds"
        type: "rss"

# Severity rules for automatic classification
severity_rules:
  high:
    - "compliance deadline"
    - "regulatory obligation"
    - "breaking change"
    - "exploited vulnerability"
    - "critical security"
    - "AWS service deprecation"
    - "major cost impact"
    - "AI Act"
    - "SaMD"

  medium:
    - "new feature"
    - "ecosystem shift"
    - "version upgrade"
    - "recommended update"
    - "guidance"

  low:
    - "advisory"
    - "background trend"
    - "minor update"

# Impact mapping keywords
impact_keywords:
  Regulatory:
    - "compliance"
    - "regulation"
    - "GDPR"
    - "HIPAA"
    - "FDA"
    - "MHRA"
    - "AI Act"
    - "SaMD"
    - "medical device"

  Platform:
    - "AWS"
    - "Lambda"
    - "architecture"
    - "infrastructure"
    - "deployment"
    - "serverless"

  Security:
    - "CVE"
    - "vulnerability"
    - "security"
    - "exploit"
    - "patch"
    - "advisory"

  DX:
    - "developer experience"
    - "tooling"
    - "productivity"
    - "workflow"
    - "backstage"

  Cost:
    - "pricing"
    - "cost"
    - "optimization"
    - "savings"
    - "budget"

  "Org/Strategy":
    - "strategy"
    - "organizational"
    - "M&A"
    - "earnings"
    - "acquisition"

# ============================================================================
# PERPLEXITY WEB RESEARCH CONFIGURATION
# ============================================================================
# Perplexity performs ONE combined search covering all categories below.
# Add/remove/modify research areas as needed. The app will automatically
# build the prompt from REQUIREMENTS.txt + these research topics.
#
# Each research topic should specify:
#   - category: What to research
#   - sources: Suggested sources to prioritize
#   - extract: What information to look for
# ============================================================================

perplexity_research:
  enabled: true  # Set to false to disable Perplexity (RSS-only mode)

  # Time span for research (uses lookback_hours from scan_config by default)
  # Override here if you want different time span for web research vs RSS
  # lookback_hours: 48  # Uncomment to override

  # Research topics - add/modify as needed
  research_topics:
    - category: "AI in Healthcare & Clinical AI"
      sources:
        - "NEJM AI, npj Digital Medicine, Lancet Digital Health"
        - "FDA AI/ML SaMD guidance and draft documents"
        - "MHRA Software & AI as Medical Device"
        - "EU AI Act official timeline and GPAI obligations"
      extract:
        - "Regulatory guidance updates with effective dates"
        - "Clinical AI safety standards and validation frameworks"
        - "High-risk medical device classifications"
        - "Monitoring and explainability requirements"

    - category: "FHIR, HL7, and Healthcare Interoperability"
      sources:
        - "HL7 official blog and HL7 News publication"
        - "HL7 Confluence meeting minutes: https://confluence.hl7.org/spaces/HL7/pages/524292/"
        - "NHS England Digital FHIR APIs"
        - "ONC TEFCA FHIR roadmap"
        - "CMS FHIR spotlight and burden reduction"
      extract:
        - "FHIR ballot updates and implementation guides"
        - "HL7 working group meeting minutes and decisions"
        - "Technical Steering Committee and Board meeting outcomes"
        - "FHIR specification changes and ballot status"
        - "NHS API changes and interoperability guidance"
        - "TEFCA exchange requirements"
        - "UK-specific FHIR implementations"

    - category: "AWS Platform & Serverless"
      sources:
        - "AWS What's New, Compute Blog, Architecture Blog"
        - "AWS security bulletins and ALAS"
        - "CNCF and Kubernetes ecosystem"
        - "AWS SAM CLI and specification releases"
      extract:
        - "Lambda, API Gateway, EventBridge, Step Functions, DynamoDB updates"
        - "Security bulletins and patches"
        - "Well-Architected framework updates"
        - "Serverless framework and tooling changes"

    - category: "Security & Vulnerabilities"
      sources:
        - "NVD and GitHub Advisory Database"
        - "CISA Known Exploited Vulnerabilities (KEV)"
        - "Language-specific security advisories"
      extract:
        - "Critical CVEs for TypeScript/NestJS (npm)"
        - "Golang security advisories"
        - "PHP security updates"
        - "AWS service vulnerabilities"

    - category: "Corporate Intelligence - Hims & Hers"
      sources:
        - "Hims & Hers Investor Relations (CIK 0001773751)"
        - "SEC filings (10-K, 10-Q, 8-K, Form 144)"
        - "UK competitors: Zava and ASDA Online Doctor"
      extract:
        - "Earnings announcements and guidance"
        - "Product launches and service expansions"
        - "Subscriber metrics and market strategy"
        - "Competitive pricing and regulatory changes"

    - category: "Developer Experience & Platform Engineering"
      sources:
        - "Backstage, InfoQ, The New Stack"
        - "CNCF maturity announcements"
        - "ThoughtWorks Technology Radar"
      extract:
        - "Developer portal updates and patterns"
        - "Platform engineering trends"
        - "DevOps and AIOps improvements"
        - "Golden path tooling"

    - category: "Language & Framework Releases"
      sources:
        - "NestJS, TypeScript, Golang release pages"
        - "AWS SAM CLI and model releases"
        - "PHP security releases"
      extract:
        - "Breaking changes and new features"
        - "Language feature updates"
        - "Security patches and version updates"
